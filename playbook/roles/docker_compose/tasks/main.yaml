- name: Reset environment for docker compose (safe xargs)
  shell: docker ps -aq | xargs --no-run-if-empty docker rm -f

- name: Run docker compose file
  shell: docker compose -f /home/{{ username }}/docker-compose.yml up -d

- name: Check containers state
  shell: docker ps
  register: docker_output

- name: Show running containers
  debug:
    var: docker_output.stdout
